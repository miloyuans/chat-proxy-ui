<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登录 - Chat Proxy</title>
    <style>
        body { font-family: Arial, sans-serif; background: #0f0f0f; color: #ddd; margin:0; padding:40px; }
        .container { max-width: 500px; margin: auto; background: #1a1a1a; padding: 30px; border-radius: 12px; }
        h1 { text-align: center; }
        form { margin: 20px 0; }
        input, textarea { width: 100%; padding: 12px; margin: 10px 0; background: #222; border: 1px solid #444; border-radius: 6px; color: white; }
        button { width: 100%; padding: 12px; background: #0066cc; border: none; color: white; border-radius: 6px; cursor: pointer; }
        button:hover { background: #0055aa; }
        .guide { background: #222; padding: 15px; border-radius: 8px; margin: 20px 0; font-size: 14px; }
        .note { color: #ff9800; text-align: center; font-size: 13px; margin-top: 15px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>登录系统</h1>

        <form action="/login" method="post">
            <input type="text" name="username" placeholder="用户名" required>
            <input type="password" name="password" placeholder="密码" required>
            <button type="submit">登录</button>
        </form>

        <hr style="border-color:#444; margin:30px 0;">

        <h2>授权 ChatGPT 账号</h2>
        <div class="guide">
            <p><strong>请按照以下步骤操作：</strong></p>
            <ol>
                <li>点击下方按钮，系统将打开 chat.openai.com 的登录页面</li>
                <li>在新窗口/标签中，使用你的 ChatGPT Pro 账号完成登录</li>
                <li>登录成功后，保持页面打开</li>
                <li>安装 Chrome 扩展：EditThisCookie 或 Cookie-Editor</li>
                <li>在 chat.openai.com 页面导出 cookie（Export → JSON 格式）</li>
                <li>将导出的 JSON 完整粘贴到下面的文本框</li>
                <li>点击“提交授权”按钮</li>
            </ol>
            <p>授权成功后即可正常使用聊天功能。</p>
        </div>

        <p style="text-align:center; margin:20px 0;">
            <button onclick="window.open('https://chat.openai.com/auth/login', '_blank')">打开 ChatGPT 登录页面</button>
        </p>

        <form action="/authorize" method="post">
            <textarea name="cookie_json" rows="8" placeholder="在这里粘贴从浏览器导出的完整 Cookie JSON" required></textarea>
            <button type="submit">提交授权</button>
        </form>

        <p class="note">Cookie 有效期通常为几天到几周，过期后需重新登录并授权。</p>
    </div>
</body>
</html>